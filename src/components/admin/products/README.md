# Модальное окно для добавления товаров

Комплексное решение для добавления товаров с множественными вариантами, изображениями и атрибутами.

## Компоненты

### 1. AddProductModal
Главное модальное окно для создания товара

**Функции:**
- ✅ Основные поля товара (название, описание, категория)
- ✅ Добавление множественных вариантов товара
- ✅ Валидация данных
- ✅ Прогрессивная форма с пошаговым заполнением

### 2. ColorPicker
Компонент для выбора цвета варианта

**Функции:**
- ✅ Предустановленные популярные цвета
- ✅ Кастомная палитра цветов
- ✅ Ввод HEX кода
- ✅ Случайный выбор цвета
- ✅ Визуальное отображение выбранного цвета

### 3. SizePicker
Компонент для выбора размера варианта

**Функции:**
- ✅ Предустановленные размеры (одежда, обувь, цифровые)
- ✅ Категории размеров с переключением табов
- ✅ Пользовательские размеры
- ✅ Римские цифры для отображения размеров
- ✅ Быстрые шаблоны (One Size, Free Size и т.д.)

### 4. ImageUploadModal
Модальное окно для управления изображениями

**Функции:**
- ✅ Drag & Drop загрузка файлов
- ✅ Выбор файлов из файловой системы  
- ✅ Добавление изображений по URL
- ✅ Предварительный просмотр
- ✅ Управление галереей изображений
- ✅ Индикаторы прогресса загрузки

## Основные возможности

### Варианты товара
Каждый вариант включает:
- **Цвет** - выбор из палитры или кастомный
- **Размер** - предустановленные или пользовательские
- **Артикул (SKU)** - опционально
- **Количество** - обязательно
- **Цена** - обязательно
- **Цена со скидкой** - опционально
- **Дополнительные атрибуты** - неограниченное количество
- **Изображения** - множественные с drag & drop

### Дополнительные атрибуты
- Динамическое добавление пар "название-значение"
- Удаление ненужных атрибутов
- Валидация полей

### Управление изображениями
- **Методы загрузки:**
  - Перетаскивание файлов
  - Выбор из файловой системы
  - Ввод URL
- **Поддерживаемые форматы:** JPG, PNG, WebP
- **Размер файла:** до 10MB
- **Предварительный просмотр** всех изображений
- **Удаление** ненужных изображений

## Использование

```tsx
import AddProductModal from '@/components/admin/products/AddProductModal';

// В компоненте
<AddProductModal
  isOpen={isCreateModalOpen}
  onClose={closeModals}
  onSubmit={handleCreateProduct}
  categories={categories}
  loading={formLoading}
/>
```

## API Integration

Компонент интегрирован с API `/api/admin/products` который:
- Создает товар с множественными вариантами
- Сохраняет изображения для каждого варианта
- Создает дополнительные атрибуты
- Возвращает полную информацию о созданном товаре

## Валидация

### Товар
- Название (обязательно)
- Категория (обязательно)
- Минимум 1 вариант (обязательно)

### Вариант
- Цвет (обязательно)
- Размер (обязательно)
- Цена > 0 (обязательно)
- Количество >= 0 (обязательно)

## Типы данных

```typescript
interface ProductVariant {
  id: string;
  size: string;
  color: string;
  sku: string;
  quantity: number;
  price: number;
  discountPrice?: number;
  attributes: { name: string; value: string }[];
  images: string[];
}

interface ProductFormData {
  name: string;
  description: string;
  categoryId: string;
  isActive: boolean;
  variants: ProductVariant[];
}
```

## Стили

Все компоненты используют:
- **Tailwind CSS** для стилизации
- **Темная тема** с градиентами
- **Адаптивный дизайн** (mobile-first)
- **Анимации** переходов
- **Hover эффекты**
- **Focus состояния** для доступности

## Особенности

1. **Производительность:**
   - Оптимизированные ре-рендеры
   - Мемоизация компонентов
   - Ленивая загрузка изображений

2. **UX/UI:**
   - Интуитивный интерфейс
   - Визуальная обратная связь
   - Прогрессивное раскрытие функций
   - Клавиатурная навигация

3. **Безопасность:**
   - Валидация на клиенте и сервере
   - Санитизация пользовательского ввода
   - Ограничения размера файлов

4. **Масштабируемость:**
   - Модульная архитектура
   - Переиспользуемые компоненты
   - Типизированные интерфейсы
